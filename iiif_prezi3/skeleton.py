# generated by datamodel-codegen:
#   filename:  iiif_3_0.json
#   timestamp: 2026-01-16T15:16:39+00:00

from __future__ import annotations

from enum import Enum
from typing import Any, Dict, List, Literal, Optional, Union

from pydantic import (AnyUrl, AwareDatetime, ConfigDict, Field, RootModel,
                      constr)

from .base import Base


class Behavior(
    RootModel[
        List[
            Union[
                constr(pattern=r'^auto-advance$'),
                constr(pattern=r'^no-auto-advance$'),
                constr(pattern=r'^repeat$'),
                constr(pattern=r'^no-repeat$'),
                constr(pattern=r'^unordered$'),
                constr(pattern=r'^individuals$'),
                constr(pattern=r'^continuous$'),
                constr(pattern=r'^paged$'),
                constr(pattern=r'^facing-pages$'),
                constr(pattern=r'^non-paged$'),
                constr(pattern=r'^multi-part$'),
                constr(pattern=r'^together$'),
                constr(pattern=r'^sequence$'),
                constr(pattern=r'^thumbnail-nav$'),
                constr(pattern=r'^no-nav$'),
                constr(pattern=r'^hidden$'),
            ]
        ]
    ]
):
    root: List[
        Union[
            constr(pattern=r'^auto-advance$'),
            constr(pattern=r'^no-auto-advance$'),
            constr(pattern=r'^repeat$'),
            constr(pattern=r'^no-repeat$'),
            constr(pattern=r'^unordered$'),
            constr(pattern=r'^individuals$'),
            constr(pattern=r'^continuous$'),
            constr(pattern=r'^paged$'),
            constr(pattern=r'^facing-pages$'),
            constr(pattern=r'^non-paged$'),
            constr(pattern=r'^multi-part$'),
            constr(pattern=r'^together$'),
            constr(pattern=r'^sequence$'),
            constr(pattern=r'^thumbnail-nav$'),
            constr(pattern=r'^no-nav$'),
            constr(pattern=r'^hidden$'),
        ]
    ]


class NavDate(RootModel[AwareDatetime]):
    root: AwareDatetime


class Rights(RootModel[AnyUrl]):
    root: AnyUrl = Field(
        ...,
        description="Rights URI isn't from either Creative Commons or RightsStatements.org. Both require http links.",
        title='rights',
    )


class ViewingDirection(
    RootModel[
        Union[
            constr(pattern=r'^left-to-right$'),
            constr(pattern=r'^right-to-left$'),
            constr(pattern=r'^top-to-bottom$'),
            constr(pattern=r'^bottom-to-top$'),
        ]
    ]
):
    root: Union[
        constr(pattern=r'^left-to-right$'),
        constr(pattern=r'^right-to-left$'),
        constr(pattern=r'^top-to-bottom$'),
        constr(pattern=r'^bottom-to-top$'),
    ]


class Id(RootModel[AnyUrl]):
    root: AnyUrl = Field(
        ..., description='Id must be present and must be a URI', title='id'
    )


class LngString(
    RootModel[
        Union[
            Dict[constr(pattern=r'^[a-zA-Z-][a-zA-Z-]*$'), List[str]],
            Dict[constr(pattern=r'^none$'), List[str]],
        ]
    ]
):
    root: Union[
        Dict[constr(pattern=r'^[a-zA-Z-][a-zA-Z-]*$'), List[str]],
        Dict[constr(pattern=r'^none$'), List[str]],
    ] = Field(
        ...,
        description='Language string, must have a language and value must be an array.',
        title='LngString',
    )


class CssStylesheet(Base):
    id: Optional[AnyUrl] = None
    type: constr(pattern=r'^CssStylesheet$') = 'CssStylesheet'
    value: Optional[str] = None


class Stylesheet(RootModel[Union['AnyUrl', 'CssStylesheet']]):
    root: Union[AnyUrl, CssStylesheet] = Field(
        ...,
        description='W3C Web Annotation Stylesheet for rendering',
        title='Stylesheet',
    )


class BCP47(
    RootModel[
        Union[constr(pattern=r'^[a-zA-Z-][a-zA-Z-]*$'), constr(pattern=r'^none$')]
    ]
):
    root: Union[constr(pattern=r'^[a-zA-Z-][a-zA-Z-]*$'), constr(pattern=r'^none$')] = (
        Field(..., title='BCP47')
    )


class Agent(Base):
    id: Optional[AnyUrl] = None
    type: Optional[Union[str, List[str]]] = None
    name: Optional[str] = None
    nickname: Optional[str] = None
    email: Optional[AnyUrl] = None
    email_sha1: Optional[str] = None
    homepage: Optional[AnyUrl] = None


class Audience(Base):
    id: Optional[AnyUrl] = None
    type: str


class Dimension(RootModel[int]):
    root: int = Field(..., title='dimension')


class Duration(RootModel[float]):
    root: float = Field(..., title='duration')


class Format(RootModel[constr(pattern=r'^[a-z][a-z]*/.*$')]):
    root: constr(pattern=r'^[a-z][a-z]*/.*$') = Field(..., title='format')


class TextDirection(Enum):
    ltr = 'ltr'
    rtl = 'rtl'
    auto = 'auto'


class PointSelector(Base):
    type: constr(pattern=r'^PointSelector$') = 'PointSelector'
    t: Optional[Duration] = None
    x: Optional[Dimension] = None
    y: Optional[Dimension] = None


class FragmentSelector(Base):
    type: constr(pattern=r'^FragmentSelector$') = 'FragmentSelector'
    conformsTo: AnyUrl = 'http://www.w3.org/TR/media-frags/'
    value: Any


class SVGSelector(Base):
    type: constr(pattern=r'^SvgSelector$') = 'SvgSelector'
    value: Any


class ImageAPISelector(Base):
    type: constr(pattern=r'^ImageApiSelector$') = 'ImageApiSelector'
    region: Optional[Any] = None
    size: Optional[Any] = None
    rotation: Optional[Any] = None
    quality: Optional[Any] = None
    format: Optional[Any] = None


class XPathSelector(Base):
    type: constr(pattern=r'^XPathSelector$') = 'XPathSelector'
    value: str


class CssSelector(Base):
    type: constr(pattern=r'^CssSelector$') = 'CssSelector'
    value: str


class TextQuoteSelector(Base):
    type: constr(pattern=r'^TextQuoteSelector$') = 'TextQuoteSelector'
    exact: str
    prefix: Optional[str] = None
    suffix: Optional[str] = None


class TextPositionSelector(Base):
    type: constr(pattern=r'^TextPositionSelector$') = 'TextPositionSelector'
    start: int
    end: int


class DataPositionSelector(Base):
    type: constr(pattern=r'^DataPositionSelector$') = 'DataPositionSelector'
    start: int
    end: int


class HttpRequestState(Base):
    type: constr(pattern=r'^HttpRequestState$') = 'HttpRequestState'
    value: str


class TimeState(Base):
    type: constr(pattern=r'^TimeState$') = 'TimeState'
    sourceDate: Optional[str] = None
    sourceDateStart: Optional[str] = None
    sourceDateEnd: Optional[str] = None
    cached: Optional[AnyUrl] = None


class NavPlace(Base):
    id: Optional[Id] = None
    type: str = 'FeatureCollection'
    features: Optional[List[Dict[str, Any]]] = None


class TextualBody(Base):
    id: Optional[Id] = None
    type: constr(pattern=r'^TextualBody$') = 'TextualBody'
    value: str
    format: Optional[Format] = None
    language: Optional[str] = None
    processingLanguage: Optional[str] = None
    textDirection: Optional[TextDirection] = None
    purpose: Optional[Union[str, List[str]]] = None
    creator: Optional[Union[str, Agent]] = None
    created: Optional[str] = None
    modified: Optional[str] = None


class Class(Base):
    id: Id
    type: str
    label: Optional[LngString] = None


class LinkedResource(Class):
    format: Optional[Format] = None
    profile: Optional[str] = None


class LinkedResources(RootModel[List[LinkedResource]]):
    root: List[LinkedResource] = Field(..., title='LinkedResources')


class KeyValueString(Base):
    label: LngString
    value: LngString


class State(RootModel[Union['TimeState', 'HttpRequestState']]):
    root: Union[TimeState, HttpRequestState] = Field(
        ...,
        description='W3C Web Annotation State (TimeState or HttpRequestState)',
        title='State',
    )


class Homepage(Class):
    format: Optional[Format] = None
    language: Optional[List[BCP47]] = None


class Homepages(RootModel[List[Homepage]]):
    root: List[Homepage] = Field(..., title='homepages')


class Metadata(RootModel[List[KeyValueString]]):
    root: List[KeyValueString]


class PartOf(RootModel[List[Class]]):
    root: List[Class]


class SeeAlso(RootModel[LinkedResources]):
    root: LinkedResources


class AbstractIIIFResource(
    RootModel[Union['Manifest', 'Collection', 'AnnotationCollection', 'AnnotationPage']]
):
    root: Union[Manifest, Collection, AnnotationCollection, AnnotationPage] = Field(
        ..., title='AbstractIIIFResource'
    )


class AnnotationCollection(Class):
    type: constr(pattern=r'^AnnotationCollection$') = 'AnnotationCollection'
    rendering: Optional[LinkedResources] = None
    partOf: Optional[PartOf] = None
    next: Optional[AnnotationPageRef] = None
    first: Optional[AnnotationPageRef] = None
    last: Optional[AnnotationPageRef] = None
    service: Optional[Service] = None
    total: Optional[int] = None
    thumbnail: Optional[List[Resource]] = None
    items: List[Annotation]


class AnnotationPage(Class):
    context: Optional[Union[List[AnyUrl], str]] = Field(None, alias='@context')
    id: Id
    type: constr(pattern=r'^AnnotationPage$') = 'AnnotationPage'
    rendering: Optional[LinkedResources] = None
    label: Optional[LngString] = None
    service: Optional[Service] = None
    thumbnail: Optional[List[Resource]] = None
    items: List[Annotation]
    partOf: Optional[List[Union[AnnotationCollection, AnnotationCollectionRef]]] = None
    next: Optional[AnnotationPageRef] = None
    prev: Optional[AnnotationPageRef] = None
    first: Optional[AnnotationPageRef] = None
    last: Optional[AnnotationPageRef] = None


class Collection(Class):
    type: constr(pattern=r'^Collection') = Field(
        'Collection',
        description='If you are validating a manifest, you may get this error if there are errors in the manifest. The validator first validates it as a manifest and if that fails it will try and validate it using the other types.',
        title='Collection',
    )
    metadata: Optional[Metadata] = None
    summary: Optional[LngString] = None
    requiredStatement: Optional[KeyValueString] = None
    rendering: Optional[LinkedResources] = None
    rights: Optional[Rights] = None
    navDate: Optional[NavDate] = None
    navPlace: Optional[NavPlace] = None
    provider: Optional[Providers] = None
    seeAlso: Optional[SeeAlso] = None
    services: Optional[Service] = None
    service: Optional[Service] = None
    placeholderCanvas: Optional[PlaceholderCanvas] = None
    accompanyingCanvas: Optional[AccompanyingCanvas] = None
    thumbnail: Optional[List[Resource]] = None
    homepage: Optional[Homepages] = None
    behavior: Optional[Behavior] = None
    partOf: Optional[PartOf] = None
    items: Optional[List[Union[ManifestRef, CollectionRef, Collection]]] = None
    annotations: Optional[List[Union[AnnotationPage, AnnotationPageRef]]] = None


class Manifest(Class):
    context: Optional[Union[List[AnyUrl], str]] = Field(None, alias='@context')
    id: Id
    label: LngString
    type: constr(pattern=r'^Manifest') = 'Manifest'
    metadata: Optional[Metadata] = None
    summary: Optional[LngString] = None
    requiredStatement: Optional[KeyValueString] = None
    rendering: Optional[LinkedResources] = None
    service: Optional[Service] = None
    services: Optional[Service] = None
    viewingDirection: Optional[ViewingDirection] = None
    placeholderCanvas: Optional[PlaceholderCanvas] = None
    accompanyingCanvas: Optional[AccompanyingCanvas] = None
    rights: Optional[Rights] = None
    start: Optional[Any] = None
    navDate: Optional[NavDate] = None
    navPlace: Optional[NavPlace] = None
    provider: Optional[Providers] = None
    seeAlso: Optional[SeeAlso] = None
    thumbnail: Optional[List[Resource]] = None
    homepage: Optional[Homepages] = None
    behavior: Optional[Behavior] = None
    partOf: Optional[PartOf] = None
    items: List[Canvas]
    structures: Optional[List[Range]] = None
    annotations: Optional[List[Union[AnnotationPage, AnnotationPageRef]]] = None


class AccompanyingCanvas(Class):
    type: constr(pattern=r'^Canvas$') = 'Canvas'
    height: Optional[Dimension] = None
    width: Optional[Dimension] = None
    duration: Optional[Duration] = None
    metadata: Optional[Metadata] = None
    summary: Optional[LngString] = None
    requiredStatement: Optional[KeyValueString] = None
    rendering: Optional[LinkedResources] = None
    rights: Optional[Rights] = None
    navDate: Optional[NavDate] = None
    navPlace: Optional[NavPlace] = None
    provider: Optional[Providers] = None
    seeAlso: Optional[SeeAlso] = None
    service: Optional[Service] = None
    thumbnail: Optional[List[Resource]] = None
    homepage: Optional[Homepages] = None
    behavior: Optional[Behavior] = None
    partOf: Optional[PartOf] = None
    items: List[AnnotationPage]
    annotations: Optional[List[Union[AnnotationPage, AnnotationPageRef]]] = None


class Annotation(Class):
    context: Optional[Union[List[AnyUrl], AnyUrl]] = Field(None, alias='@context')
    created: Optional[str] = None
    modified: Optional[str] = None
    generated: Optional[str] = None
    creator: Optional[Union[str, Agent, List[Union[str, Agent]]]] = None
    generator: Optional[Union[str, Agent, List[Union[str, Agent]]]] = None
    audience: Optional[Union[Audience, List[Audience]]] = None
    bodyValue: Optional[str] = None
    canonical: Optional[AnyUrl] = None
    via: Optional[Union[AnyUrl, List[AnyUrl]]] = None
    stylesheet: Optional[Stylesheet] = None
    type: constr(pattern=r'^Annotation$') = 'Annotation'
    service: Optional[Service] = None
    rendering: Optional[LinkedResources] = None
    thumbnail: Optional[List[Resource]] = None
    motivation: Optional[Union[str, List[str]]] = None
    body: Optional[Union[Resource, Choice, List[Resource]]] = None
    target: Union[AnnoTarget, List[AnnoTarget]]


class AnnotationCollectionRef(RootModel[Union[str, 'AnnotationCollectionRefExtended']]):
    root: Union[str, AnnotationCollectionRefExtended]


class AnnotationPageRef(RootModel[Union[str, 'AnnotationPageRefExtended']]):
    root: Union[str, AnnotationPageRefExtended]


class Canvas(Class):
    type: constr(pattern=r'^Canvas$') = 'Canvas'
    height: Optional[Dimension] = None
    width: Optional[Dimension] = None
    duration: Optional[Duration] = None
    metadata: Optional[Metadata] = None
    summary: Optional[LngString] = None
    requiredStatement: Optional[KeyValueString] = None
    rendering: Optional[LinkedResources] = None
    rights: Optional[Rights] = None
    navDate: Optional[NavDate] = None
    navPlace: Optional[NavPlace] = None
    provider: Optional[Providers] = None
    seeAlso: Optional[SeeAlso] = None
    service: Optional[Service] = None
    placeholderCanvas: Optional[PlaceholderCanvas] = None
    accompanyingCanvas: Optional[AccompanyingCanvas] = None
    thumbnail: Optional[List[Resource]] = None
    homepage: Optional[Homepages] = None
    behavior: Optional[Behavior] = None
    partOf: Optional[PartOf] = None
    items: List[AnnotationPage]
    annotations: Optional[List[Union[AnnotationPage, AnnotationPageRef]]] = None


class PlaceholderCanvas(Class):
    type: constr(pattern=r'^Canvas$') = 'Canvas'
    height: Optional[Dimension] = None
    width: Optional[Dimension] = None
    duration: Optional[Duration] = None
    metadata: Optional[Metadata] = None
    summary: Optional[LngString] = None
    requiredStatement: Optional[KeyValueString] = None
    rendering: Optional[LinkedResources] = None
    rights: Optional[Rights] = None
    navDate: Optional[NavDate] = None
    navPlace: Optional[NavPlace] = None
    provider: Optional[Providers] = None
    seeAlso: Optional[SeeAlso] = None
    service: Optional[Service] = None
    thumbnail: Optional[List[Resource]] = None
    homepage: Optional[Homepages] = None
    behavior: Optional[Behavior] = None
    partOf: Optional[PartOf] = None
    items: List[AnnotationPage]
    annotations: Optional[List[Union[AnnotationPage, AnnotationPageRef]]] = None


class Provider(Class):
    type: constr(pattern=r'^Agent$') = 'Agent'
    homepage: Optional[Homepages] = None
    logo: Optional[List[Resource]] = None
    seeAlso: Optional[SeeAlso] = None


class Providers(RootModel[List[Provider]]):
    root: List[Provider] = Field(..., title='providers')


class Range(Class):
    type: constr(pattern=r'^Range$') = 'Range'
    rendering: Optional[LinkedResources] = None
    supplementary: Optional[Union[AnnotationCollection, AnnotationCollectionRef]] = None
    service: Optional[Service] = None
    placeholderCanvas: Optional[PlaceholderCanvas] = None
    accompanyingCanvas: Optional[AccompanyingCanvas] = None
    behavior: Optional[Behavior] = None
    annotations: Optional[List[Union[AnnotationPage, AnnotationPageRef]]] = None
    thumbnail: Optional[List[Resource]] = None
    items: List[Union[SpecificResource, Canvas, Range, RangeRef, CanvasRef]]


class AnnotationBody(Base):
    id: Id
    type: str
    height: Optional[Dimension] = None
    width: Optional[Dimension] = None
    duration: Optional[Duration] = None
    language: Optional[str] = None
    rendering: Optional[LinkedResources] = None
    service: Optional[Service] = None
    format: Optional[Format] = None
    label: Optional[LngString] = None
    thumbnail: Optional[List[Resource]] = None
    annotations: Optional[List[Union[AnnotationPage, AnnotationPageRef]]] = None


class Resource(RootModel[Union['AnnotationBody', 'TextualBody', 'SpecificResource', 'Choice']]):
    root: Union[AnnotationBody, TextualBody, SpecificResource, Choice]


class ServiceV3(Class):
    model_config = ConfigDict(
        extra='allow',
    )
    profile: Optional[str] = None
    service: Optional[Service] = None


class ServiceV2(Base):
    model_config = ConfigDict(
        extra='allow',
    )
    id: Id = Field(..., alias='@id')
    type: str = Field(..., alias='@type')
    profile: Optional[str] = None
    service: Optional[Service] = None


class Service(RootModel[List[Union[ServiceV3, ServiceV2]]]):
    root: List[Union[ServiceV3, ServiceV2]]


class AnnoTarget(RootModel[Union['AnyUrl', 'SpecificResource']]):
    root: Union[AnyUrl, SpecificResource]


class Choice(Base):
    type: Literal['Choice'] = 'Choice'
    items: List[Resource]


class SpecificResource(Base):
    id: Optional[Id] = None
    type: constr(pattern=r'^SpecificResource$') = 'SpecificResource'
    format: Optional[Format] = None
    accessibility: Optional[str] = None
    source: Union[Id, Resource]
    scope: Optional[Id] = None
    selector: Optional[Union[Selector, List[Selector]]] = None
    state: Optional[Union[State, List[State]]] = None
    styleClass: Optional[Union[str, List[str]]] = None
    renderedVia: Optional[Union[Agent, List[Agent]]] = None
    purpose: Optional[Union[str, List[str]]] = None


class Reference(Base):
    model_config = ConfigDict(
        extra='allow',
    )
    id: Id
    label: Optional[LngString] = None
    type: constr(
        pattern=r'^Manifest$|^AnnotationPage$|^Collection$|^AnnotationCollection$|^Canvas$|^Range$'
    )
    thumbnail: Optional[List[Resource]] = None


class RangeSelector(Base):
    type: constr(pattern=r'^RangeSelector$') = 'RangeSelector'
    startSelector: Selector
    endSelector: Selector
    refinedBy: Optional[Selector] = None


class Selector(
    RootModel[
        Union[
            AnyUrl,
            PointSelector,
            FragmentSelector,
            SVGSelector,
            ImageAPISelector,
            XPathSelector,
            CssSelector,
            TextQuoteSelector,
            TextPositionSelector,
            DataPositionSelector,
            RangeSelector,
        ]
    ]
):
    root: Union[
        AnyUrl,
        PointSelector,
        FragmentSelector,
        SVGSelector,
        ImageAPISelector,
        XPathSelector,
        CssSelector,
        TextQuoteSelector,
        TextPositionSelector,
        DataPositionSelector,
        RangeSelector,
    ]


class AnnotationCollectionRefExtended(Reference):
    type: Optional[constr(pattern=r'^AnnotationCollection$')] = None


class AnnotationPageRefExtended(Reference):
    type: Optional[constr(pattern=r'^AnnotationPage$')] = None


class CollectionRef(Reference):
    type: Optional[constr(pattern=r'^Collection$')] = None
    label: LngString


class ManifestRef(Reference):
    type: constr(pattern=r'^Manifest$') = 'Manifest'
    label: LngString


class CanvasRef(Reference):
    type: Optional[constr(pattern=r'^Canvas$')] = None


class RangeRef(Reference):
    type: Optional[constr(pattern=r'^Range$')] = None


AbstractIIIFResource.model_rebuild()
AnnotationCollection.model_rebuild()
AnnotationPage.model_rebuild()
Collection.model_rebuild()
Manifest.model_rebuild()
AccompanyingCanvas.model_rebuild()
Annotation.model_rebuild()
AnnotationCollectionRef.model_rebuild()
AnnotationPageRef.model_rebuild()
Canvas.model_rebuild()
PlaceholderCanvas.model_rebuild()
Provider.model_rebuild()
Range.model_rebuild()
AnnotationBody.model_rebuild()
Resource.model_rebuild()
ServiceV3.model_rebuild()
ServiceV2.model_rebuild()
AnnoTarget.model_rebuild()
SpecificResource.model_rebuild()
RangeSelector.model_rebuild()
