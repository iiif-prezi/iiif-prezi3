
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../generate-schema/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>Using iiifprezi3 without helper methods - iiif-prezi3</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started-using-iiifprezi3-without-helper-methods" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="iiif-prezi3" class="md-header__button md-logo" aria-label="iiif-prezi3" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            iiif-prezi3
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Using iiifprezi3 without helper methods
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="iiif-prezi3" class="md-nav__button md-logo" aria-label="iiif-prezi3" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    iiif-prezi3
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    README
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Using iiifprezi3 without helper methods
  </span>
  

      </a>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Technical
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Technical
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../generate-schema/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generating the Schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../write-helper-method/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Helper methods
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cookbook Recipes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Cookbook Recipes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0001-mvm-image/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simplest Manifest - Single Image File
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0002-mvm-audio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simplest Manifest - Audio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0003-mvm-video/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simplest Manifest - Video
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0004-canvas-size/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Image and Canvas with Differing Dimensions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0005-image-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Support Deep Viewing with Basic Use of a IIIF Image Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0006-text-language/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Internationalization and Multi-language Values
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0007-string-formats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Embedding HTML in descriptive properties
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0008-rights/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rights statement
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0009-book-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple Manifest - Book
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0010-book-2-viewing-direction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Viewing direction and Its Effect on Navigation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0011-book-3-behavior/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Book 'behavior' Variations (continuous, individuals)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0014-accompanyingcanvas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    "Audio Presentation with Accompanying Image"
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0015-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Begin playback at a specific point - Time-based media
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0017-transcription-av/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Providing Access to Transcript Files of A/V Content
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0019-html-in-annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTML in Annotations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0021-tagging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Simple Annotation â€” Tagging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0036-composition-from-multiple-images/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Composition from Multiple Images
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0047-homepage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linking to Web Page of an Object
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0074-multiple-language-captions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Caption and Subtitle Files in Multiple Languages with Video Content
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0118-multivalue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Displaying Multiple Values with Language Maps
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0219-using-caption-file/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using Caption and Subtitle Files with Video Content
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0230-navdate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Navigation by Chronology
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../recipes/0261-non-rectangular-commenting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Annotation with a Non-Rectangular Polygon
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="getting-started-using-iiifprezi3-without-helper-methods">Getting started: using iiifprezi3 without helper methods</h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code>iiif-prezi3</code> offers useful <a href="../code/">helper methods</a> for adding IIIF resources, it is preferable to use them when possible.</p>
</div>
<p>For special needs, not addressed by the helper methods, users may take advantage directly of the Python classes generated by <a href="https://github.com/koxudaxi/datamodel-code-generator">datamodel-code-generator</a>.
These classes can be used for generating instances of IIIF objects described in the presentation API v.3.</p>
<p>In the following lines of code, we will create a manifest and two canvases using directly the pydantic classes:</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">iiif_prezi3</span>
<span class="n">amanifest</span> <span class="o">=</span> <span class="n">iiif_prezi3</span><span class="o">.</span><span class="n">Manifest</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;http://iiif.example.org/prezi/Manifest/0&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;en&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;default label&#39;</span><span class="p">]})</span>
<span class="n">acanvas</span> <span class="o">=</span> <span class="n">iiif_prezi3</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;http://iiif.example.org/prezi/Manifest/0/canvas/01&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;en&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;default label&#39;</span><span class="p">]})</span>
<span class="n">asecondcanvas</span> <span class="o">=</span> <span class="n">iiif_prezi3</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;http://iiif.example.org/prezi/Manifest/0/canvas/02&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;en&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;second label&#39;</span><span class="p">]})</span>
</code></pre></div>
<p>For constructing nested objects we have to assign to the items property a list containing the valid IIIF objects accepted by the class:</p>
<div class="highlight"><pre><span></span><code><span class="n">amanifest</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">acanvas</span><span class="p">,</span><span class="n">asecondcanvas</span><span class="p">]</span>
</code></pre></div>
<p>If we try to set the items property of the manifest items to a string <code>pydantic</code> will rise a <code>ValidationError</code>:</p>
<div class="highlight"><pre><span></span><code><span class="n">amanifest</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;this shouldn&#39;t be here&quot;</span><span class="p">]</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Be aware that appending to the items list after that the items property has been assigned :</p>
<div class="highlight"><pre><span></span><code><span class="n">amanifest</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;this shouldn&#39;t be here&quot;</span><span class="p">)</span>
</code></pre></div>
<p>will not raise any error regarding the input.</p>
</div>
<div class="highlight"><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="n">amanifest</span><span class="o">.</span><span class="n">json</span><span class="p">(</span><span class="n">exclude_unset</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>{
  &quot;id&quot;: &quot;http://iiif.example.org/prezi/Manifest/0&quot;,
  &quot;type&quot;: &quot;Manifest&quot;,
  &quot;label&quot;: {},
  &quot;items&quot;: [
    {
      &quot;id&quot;: &quot;http://iiif.example.org/prezi/Manifest/0/canvas/01&quot;,
      &quot;type&quot;: &quot;Canvas&quot;,
      &quot;label&quot;: {}
    },
    {
      &quot;id&quot;: &quot;http://iiif.example.org/prezi/Manifest/0/canvas/02&quot;,
      &quot;type&quot;: &quot;Canvas&quot;,
      &quot;label&quot;: {}
    },
    &quot;this shouldn&#39;t be here&quot;
  ]
}
</code></pre></div>
<p>Of course, in most of the use cases, canvases will be created dynamically so a possible approach for constructing the manifest can be the following:</p>
<div class="highlight"><pre><span></span><code><span class="n">canvases</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
    <span class="n">canvasid</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;http://iiif.example.org/prezi/CanvasID/</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">aservice</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;https://example.org/iiif/book1/page2&quot;</span><span class="p">,</span>
                <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ImageService3&quot;</span><span class="p">,</span>
                <span class="s2">&quot;profile&quot;</span><span class="p">:</span> <span class="s2">&quot;level2&quot;</span>
                      <span class="p">}</span>
    <span class="n">anannotation</span> <span class="o">=</span> <span class="n">iiif_prezi3</span><span class="o">.</span><span class="n">Annotation</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Annotation&#39;</span><span class="p">,</span><span class="nb">id</span><span class="o">=</span><span class="n">canvasid</span><span class="o">+</span><span class="s1">&#39;/annotation/0&#39;</span><span class="p">,</span><span class="n">target</span><span class="o">=</span><span class="n">canvasid</span><span class="p">)</span>
    <span class="n">anannotation</span><span class="o">.</span><span class="n">motivation</span> <span class="o">=</span> <span class="s1">&#39;painting&#39;</span>
    <span class="c1"># aresource = Resource(service=[aservice],type=&#39;Resource&#39;)</span>
    <span class="n">anannotation</span><span class="o">.</span><span class="n">body</span> <span class="o">=</span> <span class="n">iiif_prezi3</span><span class="o">.</span><span class="n">ResourceItem</span><span class="p">(</span><span class="n">service</span><span class="o">=</span><span class="p">[</span><span class="n">aservice</span><span class="p">],</span><span class="nb">id</span><span class="o">=</span><span class="n">canvasid</span><span class="o">+</span><span class="s1">&#39;/annotation/resource&#39;</span><span class="p">,</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;Image&#39;</span><span class="p">)</span>
    <span class="n">anannotationpage</span> <span class="o">=</span> <span class="n">iiif_prezi3</span><span class="o">.</span><span class="n">AnnotationPage</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s1">&#39;AnnotationPage&#39;</span><span class="p">)</span>
    <span class="n">anannotationpage</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">anannotation</span><span class="p">]</span>
    <span class="n">acanvas</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="p">[</span><span class="n">anannotationpage</span><span class="p">]</span>
    <span class="n">canvases</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">acanvas</span><span class="p">)</span>

<span class="n">amanifest</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="n">canvases</span>
</code></pre></div>
<p>Notice that the canvases list is created at the beginning but is assigned to the items property of the manifest only once at the end, in this way pydantic will validate the list.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Keep in mind that objects contained in the <code>canvases</code> list are references in the manifest items, hence any modification on the original object will affect the object inside the manifest. This holds true for any object added to the model.</p>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>